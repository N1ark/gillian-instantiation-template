(* Proof of unsoundness *)

spec free_cell(x)
  [[ (x == #x) * <points_to>(#x;#anything) ]]
  [[ (ret == null) * <freed>(#x;) ]]
  normal
proc free_cell(x) {
  n := [free](x);
  ret := null;
  return
};

spec test_unsoundness()
  [[ True ]]
  [[ ret == "definitely not this" ]]
  normal
proc test_unsoundness() {
  x := [alloc]();
  x := l-nth(x, 0i);

  n := "free_cell"(x);

  ret := null;
  return
};
